---
title: "v2.4.1"
linkTitle: "v2.4.1"
weight: 20
description: >
---

{{% pageinfo %}}
Trivy, Notary and Chartmuseum are not supported at this moment.
{{% /pageinfo %}}

### Configuring Harbor in EKS Anywhere package spec
The following table lists the configurable parameters of the Harbor package spec and the default values.

| Parameter                                                            | Description                                                                                                                                                                                                                                                                                                                                                                                                                                                       | Default                               |
| -------------------------------------------------------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------------------------------------- |
| **General**                                                          |                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |                                       |
| `sourceRegistry`                 |   The registry from which images/charts are pulled     | `public.ecr.aws/eks-anywhere`
| `externalURL`                                                        | The external URL for Harbor core service                                                                                                                                                                                                                                                                                                                                                                                                                          | `https://127.0.0.1:30003`          |
| `imagePullPolicy`                                                    | The image pull policy  | `IfNotPresent`                                                                                                                                                                                                                                                                                                                                                                                                                                            |                                       |
| `updateStrategy.type`                                                | The update strategy for deployments with persistent volumes(jobservice, registry and chartmuseum): `RollingUpdate` or `Recreate`. Set it as `Recreate` when `RWM` for volumes isn't supported                                                                                                                                                                                                                                                                     | `Recreate`                       |
| `logLevel`                                                           | The log level: `debug`, `info`, `warning`, `error` or `fatal`                                                                                                                                                                                                                                                                                                                                                                                                     | `info`                                |
| `harborAdminPassword`                                                | The initial password of Harbor admin. Change it from portal after launching Harbor                                                                                                                                                                                                                                                                                                                                                                                | `Harbor12345`                         |
| `secretKey`                                                          | The key used for encryption. Must be a string of 16 chars                                                                                                                                                                                                                                                                                                                                                                                                         | ""                    |
| **Expose**                                                           |                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |                                       |
| `expose.type`                                                        | How to expose the service: `nodePort` or `loadBalancer`, other values will be ignored and the creation of service will be skipped.                                                                                                                                                                                                                                                                                                        | `nodePort`                             |
| `expose.tls.enabled`                                                 | Enable TLS or not.                                                                                                            | `true`                                |
| `expose.tls.certSource`                                              | The source of the TLS certificate. Set as `auto`, `secret` or `none` and fill the information in the corresponding section: 1) auto: generate the TLS certificate automatically 2) secret: read the TLS certificate from the specified secret. The TLS certificate can be generated manually or by cert manager 3) none: configure no TLS certificate. | `secret`                                |
| `expose.tls.auto.commonName`                                         | The common name used to generate the certificate, it's necessary when `expose.tls.certSource` is set to `auto`                                                                                                                                                                                                                                                                                                                                                                    |                                       |
| `expose.tls.secret.secretName`                                       | The name of secret which contains keys named: `tls.crt` - the certificate; `tls.key` - the private key                                                                                                                                                                                                                                                                                                                                                            |  `tls-secret`                            |
| `expose.nodePort.name`                                               | The name of NodePort service                                                                                                                                                                                                                                                                                                                                                                                                                                      | `harbor`                              |
| `expose.nodePort.ports.http.port`                                    | The service port Harbor listens on when serving HTTP                                                                                                                                                                                                                                                                                                                                                                                                              | `80`                                  |
| `expose.nodePort.ports.http.nodePort`                                | The node port Harbor listens on when serving HTTP                                                                                                                                                                                                                                                                                                                                                                                                                 | `30002`                               |
| `expose.nodePort.ports.https.port`                                   | The service port Harbor listens on when serving HTTPS                                                                                                                                                                                                                                                                                                                                                                                                             | `443`                                 |
| `expose.nodePort.ports.https.nodePort`                               | The node port Harbor listens on when serving HTTPS                                                                                                                                                                                                                                                                                                                                                                                                                | `30003`                               |
| `expose.loadBalancer.name`                                           | The name of service                                                                                                                                                                                                                                                                                                                                                                                                                                               | `harbor`                              |
| `expose.loadBalancer.IP`                                             | The IP of the loadBalancer. It only works when loadBalancer supports assigning IP                                                                                                                                                                                                                                                                                                                                                                                 | `""`                                  |
| `expose.loadBalancer.ports.httpPort`                                 | The service port Harbor listens on when serving HTTP                                                                                                                                                                                                                                                                                                                                                                                                              | `80`                                  |
| `expose.loadBalancer.ports.httpsPort`                                | The service port Harbor listens on when serving HTTPS                                                                                                                                                                                                                                                                                                                                                                                                             | `30002`                               |
| `expose.loadBalancer.annotations`                                    | The annotations attached to the loadBalancer service                                                                                                                                                                                                                                                                                                                                                                                                              | {}                                    |
| `expose.loadBalancer.sourceRanges`                                   | List of IP address ranges to assign to loadBalancerSourceRanges                                                                                                                                                                                                                                                                                                                                                                                                   | []                                    |
| **Internal TLS**                                                     |                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |                                       |
| `internalTLS.enabled`                                                | Enable TLS for the components (~~chartmuseum,~~ core, jobservice, portal, registry, ~~trivy~~)                                                                                                                                                                                                                                                                                                                                                                            | `true`                               |
| `internalTLS.certSource`                                             | Method to provide TLS for the components, options are `auto`, `manual`, `secret`.                                                                                                                                                                                                                                                                                                                                                                                 | `auto`                                |
| `internalTLS.trustCa`                                                | The content of trust CA, only available when `certSource` is `manual`. **Note**: all the internal certificates of the components must be issued by this CA                                                                                                                                                                                                                                                                                                        |                                       |
| `internalTLS.core.secretName`                                        | The secret name for core component, only available when `certSource` is `secret`. The secret must contain keys named: `ca.crt` - the CA certificate which is used to issue internal key and crt pair for components and all Harbor components must be issued by the same CA, `tls.crt` - the content of the TLS cert file, `tls.key` - the content of the TLS key file.                                                                                           |                                       |
| `internalTLS.core.crt`                                               | Content of core's TLS cert file, only available when `certSource` is `manual`                                                                                                                                                                                                                                                                                                                                                                                     |                                       |
| `internalTLS.core.key`                                               | Content of core's TLS key file, only available when `certSource` is `manual`                                                                                                                                                                                                                                                                                                                                                                                      |                                       |
| `internalTLS.jobservice.secretName`                                  | The secret name for jobservice component, only available when `certSource` is `secret`. The secret must contain keys named: `ca.crt` - the CA certificate which is used to issue internal key and crt pair for components and all Harbor components must be issued by the same CA, `tls.crt` - the content of the TLS cert file, `tls.key` - the content of the TLS key file.                                                                                     |                                       |
| `internalTLS.jobservice.crt`                                         | Content of jobservice's TLS cert file, only available when `certSource` is `manual`                                                                                                                                                                                                                                                                                                                                                                               |                                       |
| `internalTLS.jobservice.key`                                         | Content of jobservice's TLS key file, only available when `certSource` is `manual`                                                                                                                                                                                                                                                                                                                                                                                |                                       |
| `internalTLS.registry.secretName`                                    | The secret name for registry component, only available when `certSource` is `secret`. The secret must contain keys named: `ca.crt` - the CA certificate which is used to issue internal key and crt pair for components and all Harbor components must be issued by the same CA, `tls.crt` - the content of the TLS cert file, `tls.key` - the content of the TLS key file.                                                                                       |                                       |
| `internalTLS.registry.crt`                                           | Content of registry's TLS cert file, only available when `certSource` is `manual`                                                                                                                                                                                                                                                                                                                                                                                 |                                       |
| `internalTLS.registry.key`                                           | Content of registry's TLS key file, only available when `certSource` is `manual`                                                                                                                                                                                                                                                                                                                                                                                  |                                       |
| `internalTLS.portal.secretName`                                      | The secret name for portal component, only available when `certSource` is `secret`. The secret must contain keys named: `ca.crt` - the CA certificate which is used to issue internal key and crt pair for components and all Harbor components must be issued by the same CA, `tls.crt` - the content of the TLS cert file, `tls.key` - the content of the TLS key file.                                                                                         |                                       |
| `internalTLS.portal.crt`                                             | Content of portal's TLS cert file, only available when `certSource` is `manual`                                                                                                                                                                                                                                                                                                                                                                                   |                                       |
| `internalTLS.portal.key`                                             | Content of portal's TLS key file, only available when `certSource` is `manual`                                                                                                                                                                                                                                                                                                                                                                                    |                                       |
| **IPFamily**        |                                |                                                  |
| `ipFamily.ipv4.enabled` | if cluster is ipv4 enabled, all ipv4 related configs will set correspondingly, but currently it only affects the nginx related components  |  `true` |
| `ipFamily.ipv6.enabled` | if cluster is ipv6 enabled, all ipv6 related configs will set correspondingly, but currently it only affects the nginx related components  |  `true` |
| **Persistence**                                                      |                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |                                       |
| `persistence.enabled`                                                | Enable the data persistence or not                                                                                                                                                                                                                                                                                                                                                                                                                                | `true`                                |
| `persistence.resourcePolicy`                                         | Setting it to `keep` to avoid removing PVCs during a helm delete operation. Leaving it empty will delete PVCs after the chart deleted. Does not affect PVCs created for internal database and redis components.                                                                                                                                                                                                                                                   | `keep`                                |
| `persistence.persistentVolumeClaim.registry.existingClaim`           | Use the existing PVC which must be created manually before bound, and specify the `subPath` if the PVC is shared with other components                                                                                                                                                                                                                                                                                                                            |                                       |
| `persistence.persistentVolumeClaim.registry.storageClass`            | Specify the `storageClass` used to provision the volume. Or the default StorageClass will be used (the default). Set it to `-` to disable dynamic provisioning                                                                                                                                                                                                                                                                                                    |                                       |
| `persistence.persistentVolumeClaim.registry.subPath`                 | The sub path used in the volume                                                                                                                                                                                                                                                                                                                                                                                                                                   |                                       |
| `persistence.persistentVolumeClaim.registry.accessMode`              | The access mode of the volume                                                                                                                                                                                                                                                                                                                                                                                                                                     | `ReadWriteOnce`                       |
| `persistence.persistentVolumeClaim.registry.size`                    | The size of the volume                                                                                                                                                                                                                                                                                                                                                                                                                                            | `5Gi`                                 |
| `persistence.persistentVolumeClaim.registry.annotations`             | The annotations of the volume                                                                                                                                                                                                                                                                                                                                                                                                                                     |                                       |
| `persistence.persistentVolumeClaim.jobservice.existingClaim`         | Use the existing PVC which must be created manually before bound, and specify the `subPath` if the PVC is shared with other components                                                                                                                                                                                                                                                                                                                            |                                       |
| `persistence.persistentVolumeClaim.jobservice.storageClass`          | Specify the `storageClass` used to provision the volume. Or the default StorageClass will be used (the default). Set it to `-` to disable dynamic provisioning                                                                                                                                                                                                                                                                                                    |                                       |
| `persistence.persistentVolumeClaim.jobservice.subPath`               | The sub path used in the volume                                                                                                                                                                                                                                                                                                                                                                                                                                   |                                       |
| `persistence.persistentVolumeClaim.jobservice.accessMode`            | The access mode of the volume                                                                                                                                                                                                                                                                                                                                                                                                                                     | `ReadWriteOnce`                       |
| `persistence.persistentVolumeClaim.jobservice.size`                  | The size of the volume                                                                                                                                                                                                                                                                                                                                                                                                                                            | `1Gi`                                 |
| `persistence.persistentVolumeClaim.jobservice.annotations`           | The annotations of the volume                                                                                                                                                                                                                                                                                                                                                                                                                                     |                                       |
| `persistence.persistentVolumeClaim.database.existingClaim`           | Use the existing PVC which must be created manually before bound, and specify the `subPath` if the PVC is shared with other components. If external database is used, the setting will be ignored                                                                                                                                                                                                                                                                 |                                       |
| `persistence.persistentVolumeClaim.database.storageClass`            | Specify the `storageClass` used to provision the volume. Or the default StorageClass will be used (the default). Set it to `-` to disable dynamic provisioning. If external database is used, the setting will be ignored                                                                                                                                                                                                                                         |                                       |
| `persistence.persistentVolumeClaim.database.subPath`                 | The sub path used in the volume. If external database is used, the setting will be ignored                                                                                                                                                                                                                                                                                                                                                                        |                                       |
| `persistence.persistentVolumeClaim.database.accessMode`              | The access mode of the volume. If external database is used, the setting will be ignored                                                                                                                                                                                                                                                                                                                                                                          | `ReadWriteOnce`                       |
| `persistence.persistentVolumeClaim.database.size`                    | The size of the volume. If external database is used, the setting will be ignored                                                                                                                                                                                                                                                                                                                                                                                 | `1Gi`                                 |
| `persistence.persistentVolumeClaim.database.annotations`             | The annotations of the volume                                                                                                                                                                                                                                                                                                                                                                                                                                     |                                       |
| `persistence.persistentVolumeClaim.redis.existingClaim`              | Use the existing PVC which must be created manually before bound, and specify the `subPath` if the PVC is shared with other components. If external Redis is used, the setting will be ignored                                                                                                                                                                                                                                                                    |                                       |
| `persistence.persistentVolumeClaim.redis.storageClass`               | Specify the `storageClass` used to provision the volume. Or the default StorageClass will be used (the default). Set it to `-` to disable dynamic provisioning. If external Redis is used, the setting will be ignored                                                                                                                                                                                                                                            |                                       |
| `persistence.persistentVolumeClaim.redis.subPath`                    | The sub path used in the volume. If external Redis is used, the setting will be ignored                                                                                                                                                                                                                                                                                                                                                                           |                                       |
| `persistence.persistentVolumeClaim.redis.accessMode`                 | The access mode of the volume. If external Redis is used, the setting will be ignored                                                                                                                                                                                                                                                                                                                                                                             | `ReadWriteOnce`                       |
| `persistence.persistentVolumeClaim.redis.size`                       | The size of the volume. If external Redis is used, the setting will be ignored                                                                                                                                                                                                                                                                                                                                                                                    | `1Gi`                                 |
| `persistence.persistentVolumeClaim.redis.annotations`                | The annotations of the volume                                                                                                                                                                                                                                                                                                                                                                                                                                     |                                       |
| **Nginx**  |                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |                                       |
| `nginx.image.repository`                                             | Repository for nginx                                                                                                                                                                                                                                                                                                                                                                                                                                                  | `harbor/harbor-nginx`               |
| `nginx.image.digest`                                                    | Digest for nginx image |   |
| `nginx.replicas`                                                     | The replica count                                                                                                                                                                                                                                                                                                                                                                                                                                                 | `1`                                   |
| `nginx.revisionHistoryLimit`                                         | The revision history limit                                                                                                                                                                                                                                                                                                                                                                                                                                        | `10`                                  |
| `nginx.resources`                                                    | The [resources](https://kubernetes.io/docs/concepts/configuration/manage-compute-resources-container/) to allocate for container                                                                                                                                                                                                                                                                                                                                                                                                                         | undefined                             |
| `nginx.automountServiceAccountToken`                                 | Mount serviceAccountToken?                                                                                                                                                                                                                                                                                                                                                                                                                                        | `false`                               |
| `nginx.nodeSelector`                                                 | Node labels for pod assignment                                                                                                                                                                                                                                                                                                                                                                                                                                    | `{}`                                  |
| `nginx.tolerations`                                                  | Tolerations for pod assignment                                                                                                                                                                                                                                                                                                                                                                                                                                    | `[]`                                  |
| `nginx.affinity`                                                     | Node/Pod affinities                                                                                                                                                                                                                                                                                                                                                                                                                                               | `{}`                                  |
| `nginx.podAnnotations`                                               | Annotations to add to the nginx pod                                                                                                                                                                                                                                                                                                                                                                                                                               | `{}`                                  |
| `nginx.priorityClassName`                                            | The priority class to run the pod as                                                                                                                                                                                                                                                                                                                                                                                                                              |                                       |
| **Portal**                                                           |                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |                                       |
| `portal.image.repository`                                            | Repository for portal image                                                                                                                                                                                                                                                                                                                                                                                                                                       | `harbor/harbor-portal`              |
| `portal.image.digest`                                                   | Digest for portal image |  |
| `portal.replicas`                                                    | The replica count                                                                                                                                                                                                                                                                                                                                                                                                                                                 | `1`                                   |
| `portal.revisionHistoryLimit`                                        | The revision history limit                                                                                                                                                                                                                                                                                                                                                                                                                                        | `10`                                  |
| `portal.resources`                                                   | The [resources](https://kubernetes.io/docs/concepts/configuration/manage-compute-resources-container/) to allocate for container                                                                                                                                                                                                                                                                                                                                                                                                                         | undefined                             |
| `portal.automountServiceAccountToken`                                | Mount serviceAccountToken?                                                                                                                                                                                                                                                                                                                                                                                                                                        | `false`                               |
| `portal.nodeSelector`                                                | Node labels for pod assignment                                                                                                                                                                                                                                                                                                                                                                                                                                    | `{}`                                  |
| `portal.tolerations`                                                 | Tolerations for pod assignment                                                                                                                                                                                                                                                                                                                                                                                                                                    | `[]`                                  |
| `portal.affinity`                                                    | Node/Pod affinities                                                                                                                                                                                                                                                                                                                                                                                                                                               | `{}`                                  |
| `portal.podAnnotations`                                              | Annotations to add to the portal pod                                                                                                                                                                                                                                                                                                                                                                                                                              | `{}`                                  |
| `portal.priorityClassName`                                           | The priority class to run the pod as                                                                                                                                                                                                                                                                                                                                                                                                                              |                                       |
| **Core**                                                             |                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |                                       |
| `core.image.repository`                                              | Repository for Harbor core image                                                                                                                                                                                                                                                                                                                                                                                                                                  | `harbor/harbor-core`                |
| `core.image.digest`                                                     | Digest for Harbor core image  |  |
| `core.replicas`                                                      | The replica count                                                                                                                                                                                                                                                                                                                                                                                                                                                 | `1`                                   |
| `core.revisionHistoryLimit`                                          | The revision history limit                                                                                                                                                                                                                                                                                                                                                                                                                                        | `10`                                  |
| `core.startupProbe.initialDelaySeconds`                              | The initial delay in seconds for the startup probe                                                                                                                                                                                                                                                                                                                                                                                                                | `10`                                  |
| `core.resources`                                                     | The [resources](https://kubernetes.io/docs/concepts/configuration/manage-compute-resources-container/) to allocate for container                                                                                                                                                                                                                                                                                                                                                                                                                         | undefined                             |
| `core.automountServiceAccountToken`                                  | Mount serviceAccountToken?                                                                                                                                                                                                                                                                                                                                                                                                                                        | `false`                               |
| `core.nodeSelector`                                                  | Node labels for pod assignment                                                                                                                                                                                                                                                                                                                                                                                                                                    | `{}`                                  |
| `core.tolerations`                                                   | Tolerations for pod assignment                                                                                                                                                                                                                                                                                                                                                                                                                                    | `[]`                                  |
| `core.affinity`                                                      | Node/Pod affinities                                                                                                                                                                                                                                                                                                                                                                                                                                               | `{}`                                  |
| `core.podAnnotations`                                                | Annotations to add to the core pod                                                                                                                                                                                                                                                                                                                                                                                                                                | `{}`                                  |
| `core.secret`                                                        | Secret is used when core server communicates with other components. If a secret key is not specified, Helm will generate one. Must be a string of 16 chars.                                                                                                                                                                                                                                                                                                       |                                       |
| `core.secretName`                                                    | Fill the name of a kubernetes secret if you want to use your own TLS certificate and private key for token encryption/decryption. The secret must contain keys named: `tls.crt` - the certificate and `tls.key` - the private key. The default key pair will be used if it isn't set                                                                                                                                                                              |                                       |
| `core.xsrfKey`                                                       | The XSRF key. Will be generated automatically if it isn't specified                                                                                                                                                                                                                                                                                                                                                                                               |                                       |
| `core.priorityClassName`                                             | The priority class to run the pod as                                                                                                                                                                                                                                                                                                                                                                                                                              |                                       |
| `core.artifactPullAsyncFlushDuration`                                | The time duration for async update artifact pull_time and repository pull_count                                                                                                                                                                                                                                                                                                                                                                                   |                                       |
| **Jobservice**                                                       |                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |                                       |
| `jobservice.image.repository`                                        | Repository for jobservice image                                                                                                                                                                                                                                                                                                                                                                                                                                   | `harbor/harbor-jobservice`          |
| `jobservice.image.digest`                                               | Digest for jobservice image  |  |
| `jobservice.replicas`                                                | The replica count                                                                                                                                                                                                                                                                                                                                                                                                                                                 | `1`                                   |
| `jobservice.revisionHistoryLimit`                                    | The revision history limit                                                                                                                                                                                                                                                                                                                                                                                                                                        | `10`                                  |
| `jobservice.maxJobWorkers`                                           | The max job workers                                                                                                                                                                                                                                                                                                                                                                                                                                               | `10`                                  |
| `jobservice.jobLoggers`                                              | The loggers for jobs: `file`, `database` or `stdout`                                                                                                                                                                                                                                                                                                                                                                                                              | `file`                                |
| `jobservice.loggerSweeperDuration`                                   | The jobLogger sweeper duration in days (ignored if `jobLoggers` is set to `stdout`)                                                                                                                                                                                                                                                                                                                                                                               | `14`                                  |
| `jobservice.resources`                                               | The [resources](https://kubernetes.io/docs/concepts/configuration/manage-compute-resources-container/) to allocate for container                                                                                                                                                                                                                                                                                                                                                                                                                         | undefined                             |
| `jobservice.automountServiceAccountToken`                            | Mount serviceAccountToken?                                                                                                                                                                                                                                                                                                                                                                                                                                        | `false`                               |
| `jobservice.nodeSelector`                                            | Node labels for pod assignment                                                                                                                                                                                                                                                                                                                                                                                                                                    | `{}`                                  |
| `jobservice.tolerations`                                             | Tolerations for pod assignment                                                                                                                                                                                                                                                                                                                                                                                                                                    | `[]`                                  |
| `jobservice.affinity`                                                | Node/Pod affinities                                                                                                                                                                                                                                                                                                                                                                                                                                               | `{}`                                  |
| `jobservice.podAnnotations`                                          | Annotations to add to the jobservice pod                                                                                                                                                                                                                                                                                                                                                                                                                          | `{}`                                  |
| `jobservice.priorityClassName`                                       | The priority class to run the pod as                                                                                                                                                                                                                                                                                                                                                                                                                              |                                       |
| `jobservice.secret`                                                  | Secret is used when job service communicates with other components. If a secret key is not specified, Helm will generate one. Must be a string of 16 chars.                                                                                                                                                                                                                                                                                                       |                                       |
| **Registry**                                                         |                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |                                       |
| `registry.registry.image.repository`                                 | Repository for registry image                                                                                                                                                                                                                                                                                                                                                                                                                                     | `harbor/harbor-registry`            |
| `registry.registry.image.digest`                                        | Digest for registry image  |  |
| `registry.registry.resources`                                        | The [resources](https://kubernetes.io/docs/concepts/configuration/manage-compute-resources-container/) to allocate for container                                                                                                                                                                                                                                                                                                                                                                                                                         | undefined                             |
| `registry.controller.image.repository`                               | Repository for registry controller image                                                                                                                                                                                                                                                                                                                                                                                                                          | `harbor/harbor-registryctl`         |
| `registry.controller.image.digest`                                      | Digest for registry controller image                                                                                                                                                                                                                                                                                                                                                                                                                                 |                                  |
| `registry.controller.resources`                                      | The [resources](https://kubernetes.io/docs/concepts/configuration/manage-compute-resources-container/) to allocate for container                                                                                                                                                                                                                                                                                                                                                                                                                         | undefined                             |
| `registry.replicas`                                                  | The replica count                                                                                                                                                                                                                                                                                                                                                                                                                                                 | `1`                                   |
| `registry.revisionHistoryLimit`                                      | The revision history limit                                                                                                                                                                                                                                                                                                                                                                                                                                        | `10`                                  |
| `registry.nodeSelector`                                              | Node labels for pod assignment                                                                                                                                                                                                                                                                                                                                                                                                                                    | `{}`                                  |
| `registry.automountServiceAccountToken`                              | Mount serviceAccountToken?                                                                                                                                                                                                                                                                                                                                                                                                                                        | `false`                               |
| `registry.tolerations`                                               | Tolerations for pod assignment                                                                                                                                                                                                                                                                                                                                                                                                                                    | `[]`                                  |
| `registry.affinity`                                                  | Node/Pod affinities                                                                                                                                                                                                                                                                                                                                                                                                                                               | `{}`                                  |
| `registry.middleware`                                                | Middleware is used to add support for a CDN between backend storage and `docker pull` recipient. See [official docs](https://github.com/docker/distribution/blob/master/docs/configuration.md#middleware).                                                                                                                                                                                                                                                        |                                       |
| `registry.podAnnotations`                                            | Annotations to add to the registry pod                                                                                                                                                                                                                                                                                                                                                                                                                            | `{}`                                  |
| `registry.priorityClassName`                                         | The priority class to run the pod as                                                                                                                                                                                                                                                                                                                                                                                                                              |                                       |
| `registry.secret`                                                    | Secret is used to secure the upload state from client and registry storage backend. See [official docs](https://github.com/docker/distribution/blob/master/docs/configuration.md#http). If a secret key is not specified, Helm will generate one. Must be a string of 16 chars.                                                                                                                                                                                   |                                       |
| `registry.credentials.username`                                      | The username for accessing the registry instance, which is hosted by htpasswd auth mode. More details see [official docs](https://github.com/docker/distribution/blob/master/docs/configuration.md#htpasswd).                                                                                                                                                                                                                                                     | `harbor_registry_user`                |
| `registry.credentials.password`                                      | The password for accessing the registry instance, which is hosted by htpasswd auth mode. More details see [official docs](https://github.com/docker/distribution/blob/master/docs/configuration.md#htpasswd). It is suggested you update this value before installation.                                                                                                                                                                                          | `harbor_registry_password`            |
| `registry.credentials.htpasswdString`                                | Login and password in htpasswd string format. Excludes `registry.credentials.username`  and `registry.credentials.password`. May come in handy when integrating with tools like argocd or flux. This allows the same line to be generated each time the template is rendered, instead of the `htpasswd` function from helm, which generates different lines each time because of the salt.                                                                        | undefined                             |
| `registry.relativeurls`                                              | If true, the registry returns relative URLs in Location headers. The client is responsible for resolving the correct URL. Needed if harbor is behind a reverse proxy                                                                                                                                                                                                                                                                                              | `false`                               |
| `registry.upload_purging.enabled`                                    | If true, enable purge _upload directories                                                                                                                                                                | `true`   |
| `registry.upload_purging.age`                                        | Remove files in _upload directories which exist for a period of time, default is one week.                                                                                                                                                                | `168h`   |
| `registry.upload_purging.interval`                                   | The interval of the purge operations                                                                                                                                                                | `24h`   |
| `registry.upload_purging.dryrun`                                     | If true, enable dryrun for purging _upload, default false                                                                                                                                                                | `false`   |
| **Database**                                                         |                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |                                       |
| `database.type`                                                      | If external database is used, set it to `external`                                                                                                                                                                                                                                                                                                                                                                                                                | `internal`                            |
| `database.internal.image.repository`                                 | Repository for database image                                                                                                                                                                                                                                                                                                                                                                                                                                     | `harbor/harbor-db`                  |
| `database.internal.image.digest`                                        | Digest for database image                                                                                                                                                                                                                                                                                                                                                                                                                                            |                                  |
| `database.internal.password`                                         | The password for database                                                                                                                                                                                                                                                                                                                                                                                                                                         | `changeit`                            |
| `database.internal.shmSizeLimit`                                     | The limit for the size of shared memory for internal PostgreSQL, conventionally it's around 50% of the memory limit of the container                                                                                                                                                                                                                                                                                                                              | `512Mi`                               |
| `database.internal.resources`                                        | The [resources](https://kubernetes.io/docs/concepts/configuration/manage-compute-resources-container/) to allocate for container                                                                                                                                                                                                                                                                                                                                                                                                                         | undefined                             |
| `database.internal.automountServiceAccountToken`                     | Mount serviceAccountToken?                                                                                                                                                                                                                                                                                                                                                                                                                                        | `false`                               |
| `database.internal.initContainer.migrator.resources`                 | The [resources](https://kubernetes.io/docs/concepts/configuration/manage-compute-resources-container/) to allocate for the database migrator initContainer                                                                                                                                                                                                                                                                                                                                                                                               | undefined                             |
| `database.internal.initContainer.permissions.resources`              | The [resources](https://kubernetes.io/docs/concepts/configuration/manage-compute-resources-container/) to allocate for the database permissions initContainer                                                                                                                                                                                                                                                                                                                                                                                            | undefined                             |
| `database.internal.nodeSelector`                                     | Node labels for pod assignment                                                                                                                                                                                                                                                                                                                                                                                                                                    | `{}`                                  |
| `database.internal.tolerations`                                      | Tolerations for pod assignment                                                                                                                                                                                                                                                                                                                                                                                                                                    | `[]`                                  |
| `database.internal.affinity`                                         | Node/Pod affinities                                                                                                                                                                                                                                                                                                                                                                                                                                               | `{}`                                  |
| `database.internal.priorityClassName`                                | The priority class to run the pod as                                                                                                                                                                                                                                                                                                                                                                                                                              |                                       |
| `database.external.host`                                             | The hostname of external database                                                                                                                                                                                                                                                                                                                                                                                                                                 | `192.168.0.1`                         |
| `database.external.port`                                             | The port of external database                                                                                                                                                                                                                                                                                                                                                                                                                                     | `5432`                                |
| `database.external.username`                                         | The username of external database                                                                                                                                                                                                                                                                                                                                                                                                                                 | `user`                                |
| `database.external.password`                                         | The password of external database                                                                                                                                                                                                                                                                                                                                                                                                                                 | `password`                            |
| `database.external.coreDatabase`                                     | The database used by core service                                                                                                                                                                                                                                                                                                                                                                                                                                 | `registry`                            |
| `database.external.sslmode`                                          | Connection method of external database (require, verify-full, verify-ca, disable)                                                                                                                                                                                                                                                                                                                                                                                 | `disable`                             |
| `database.maxIdleConns`                                              | The maximum number of connections in the idle connection pool. If it <=0, no idle connections are retained.                                                                                                                                                                                                                                                                                                                                                       | `50`                                  |
| `database.maxOpenConns`                                              | The maximum number of open connections to the database. If it <= 0, then there is no limit on the number of open connections.                                                                                                                                                                                                                                                                                                                                     | `100`                                 |
| `database.podAnnotations`                                            | Annotations to add to the database pod                                                                                                                                                                                                                                                                                                                                                                                                                            | `{}`                                  |
| **Redis**                                                            |                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |                                       |
| `redis.type`                                                         | If external redis is used, set it to `external`                                                                                                                                                                                                                                                                                                                                                                                                                   | `internal`                            |
| `redis.internal.image.repository`                                    | Repository for redis image                                                                                                                                                                                                                                                                                                                                                                                                                                        | `harbor/harbor-redis`               |
| `redis.internal.image.digest`                                           | Digest for redis image                                                                                                                                                                                                                                                                                                                                                                                                                                               |                                  |
| `redis.internal.resources`                                           | The [resources](https://kubernetes.io/docs/concepts/configuration/manage-compute-resources-container/) to allocate for container                                                                                                                                                                                                                                                                                                                                                                                                                         | undefined                             |
| `redis.internal.automountServiceAccountToken`                        | Mount serviceAccountToken?                                                                                                                                                                                                                                                                                                                                                                                                                                        | `false`                               |
| `redis.internal.nodeSelector`                                        | Node labels for pod assignment                                                                                                                                                                                                                                                                                                                                                                                                                                    | `{}`                                  |
| `redis.internal.tolerations`                                         | Tolerations for pod assignment                                                                                                                                                                                                                                                                                                                                                                                                                                    | `[]`                                  |
| `redis.internal.affinity`                                            | Node/Pod affinities                                                                                                                                                                                                                                                                                                                                                                                                                                               | `{}`                                  |
| `redis.internal.priorityClassName`                                   | The priority class to run the pod as                                                                                                                                                                                                                                                                                                                                                                                                                              |                                       |
| `redis.external.addr`                                                | The addr of external Redis: <host_redis>:<port_redis>. When using sentinel, it should be <host_sentinel1>:<port_sentinel1>,<host_sentinel2>:<port_sentinel2>,<host_sentinel3>:<port_sentinel3>                                                                                                                                                                                                                                                                    | `192.168.0.2:6379`                    |
| `redis.external.sentinelMasterSet`                                   | The name of the set of Redis instances to monitor                                                                                                                                                                                                                                                                                                                                                                                                                 |                                       |
| `redis.external.coreDatabaseIndex`                                   | The database index for core                                                                                                                                                                                                                                                                                                                                                                                                                                       | `0`                                   |
| `redis.external.jobserviceDatabaseIndex`                             | The database index for jobservice                                                                                                                                                                                                                                                                                                                                                                                                                                 | `1`                                   |
| `redis.external.registryDatabaseIndex`                               | The database index for registry                                                                                                                                                                                                                                                                                                                                                                                                                                   | `2`                                   |
| `redis.external.chartmuseumDatabaseIndex`                            | The database index for chartmuseum                                                                                                                                                                                                                                                                                                                                                                                                                                | `3`                                   |
| `redis.external.trivyAdapterIndex`                                   | The database index for trivy adapter                                                                                                                                                                                                                                                                                                                                                                                                                              | `5`                                   |
| `redis.external.password`                                            | The password of external Redis                                                                                                                                                                                                                                                                                                                                                                                                                                    |                                       |
| `redis.podAnnotations`                                               | Annotations to add to the redis pod                                                                                                                                                                                                                                                                                                                                                                                                                               | `{}`                                  |
| **Exporter**                                                         |                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |                                       |
| `exporter.replicas`                                                  | The replica count                                                                                                                                                                                                                                                                                                                                                                                                                                                 | `1`                                   |
| `exporter.revisionHistoryLimit`                                      | The revision history limit                                                                                                                                                                                                                                                                                                                                                                                                                                        | `10`                                  |
| `exporter.podAnnotations`                                            | Annotations to add to the exporter pod                                                                                                                                                                                                                                                                                                                                                                                                                            | `{}`                                  |
| `exporter.image.repository`                                          | Repository for redis image                                                                                                                                                                                                                                                                                                                                                                                                                                        | `harbor/harbor-exporter`            |
| `exporter.image.digest`                                                 | Digest for exporter image                                                                                                                                                                                                                                                                                                                                                                                                                                            |                                  |
| `exporter.nodeSelector`                                              | Node labels for pod assignment                                                                                                                                                                                                                                                                                                                                                                                                                                    | `{}`                                  |
| `exporter.tolerations`                                               | Tolerations for pod assignment                                                                                                                                                                                                                                                                                                                                                                                                                                    | `[]`                                  |
| `exporter.affinity`                                                  | Node/Pod affinities                                                                                                                                                                                                                                                                                                                                                                                                                                               | `{}`                                  |
| `exporter.automountServiceAccountToken`                              | Mount serviceAccountToken?                                                                                                                                                                                                                                                                                                                                                                                                                                        | `false`                               |
| `exporter.cacheDuration`                                             | the cache duration for information that exporter collected from Harbor                                                                                                                                                                                                                                                                                                                                                                                            | `30`                                  |
| `exporter.cacheCleanInterval`                                        | cache clean interval for information that exporter collected from Harbor                                                                                                                                                                                                                                                                                                                                                                                          | `14400`                               |
| `exporter.priorityClassName`                                         | The priority class to run the pod as                                                                                                                                                                                                                                                                                                                                                                                                                              |                                       |