2022-05-02T01:56:40.377Z	V4	e2e	Logger init completed	{"vlevel": 4}
=== RUN   TestVSphereKubernetes122BottleRocketAWSIamAuth
2022-05-02T01:56:40.377Z	V2	e2e	Pulling docker image	{"image": "public.ecr.aws/l0g8r8j6/eks-anywhere-cli-tools:v0.1.0-eks-a-v0.0.0-dev-build.589"}
2022-05-02T01:56:47.235Z	V3	e2e	Initializing long running container	{"name": "eksa_1651456600377541072", "image": "public.ecr.aws/l0g8r8j6/eks-anywhere-cli-tools:v0.1.0-eks-a-v0.0.0-dev-build.589"}
2022-05-02T01:56:51.592Z	V2	e2e	Pulling docker image	{"image": "public.ecr.aws/l0g8r8j6/eks-anywhere-cli-tools:v0.1.0-eks-a-v0.0.0-dev-build.589"}
2022-05-02T01:56:52.542Z	V3	e2e	Initializing long running container	{"name": "eksa_1651456611592911648", "image": "public.ecr.aws/l0g8r8j6/eks-anywhere-cli-tools:v0.1.0-eks-a-v0.0.0-dev-build.589"}
    cluster.go:499: Running shell command [ eksctl anywhere generate clusterconfig main-i-0ddc0d7833f8af981 -p vsphere > cluster.yaml ]
    cluster.go:374: Creating cluster main-i-0ddc0d7833f8af981
    cluster.go:499: Running shell command [ eksctl anywhere create cluster -f main-i-0ddc0d7833f8af981-config/cluster.yaml -v 4 ]
2022-05-02T01:56:54.553Z	V4	Logger init completed	{"vlevel": 4}
2022-05-02T01:56:54.639Z	V0	Warning: VSphereDatacenterConfig configured in insecure mode
2022-05-02T01:56:54.685Z	V4	Reading bundles manifest	{"url": "https://dev-release-prod-pdx.s3.amazonaws.com/bundle-release.yaml"}
2022-05-02T01:56:54.771Z	V2	Pulling docker image	{"image": "public.ecr.aws/l0g8r8j6/eks-anywhere-cli-tools:v0.7.2-eks-a-v0.0.0-dev-build.1872"}
2022-05-02T01:57:00.501Z	V3	Initializing long running container	{"name": "eksa_1651456614771982170", "image": "public.ecr.aws/l0g8r8j6/eks-anywhere-cli-tools:v0.7.2-eks-a-v0.0.0-dev-build.1872"}
2022-05-02T01:57:03.552Z	V4	Task start	{"task_name": "setup-validate"}
2022-05-02T01:57:03.552Z	V0	Performing setup and validations
2022-05-02T01:57:03.552Z	V0	Warning: VSphereDatacenterConfig configured in insecure mode
2022-05-02T01:57:03.589Z	V0	✅ Connected to server
2022-05-02T01:57:03.872Z	V0	✅ Authenticated to vSphere
2022-05-02T01:57:04.254Z	V0	✅ Datacenter validated
2022-05-02T01:57:04.553Z	V0	✅ Network validated
2022-05-02T01:57:06.740Z	V0	✅ Datastore validated
2022-05-02T01:57:07.043Z	V0	✅ Folder validated
2022-05-02T01:57:07.350Z	V0	✅ Resource pool validated
2022-05-02T01:57:07.654Z	V0	✅ Datastore validated
2022-05-02T01:57:07.954Z	V0	✅ Folder validated
2022-05-02T01:57:08.251Z	V0	✅ Resource pool validated
2022-05-02T01:57:08.555Z	V0	✅ Datastore validated
2022-05-02T01:57:08.863Z	V0	✅ Folder validated
2022-05-02T01:57:09.174Z	V0	✅ Resource pool validated
2022-05-02T01:57:09.842Z	V1	Control plane template validation failed.
2022-05-02T01:57:09.842Z	V0	❌ Validation failed	{"validation": "vsphere Provider setup is valid", "error": "template /SDDC-Datacenter/vm/Templates/bottlerocket-kube-v1-22 is missing tag eksdRelease:kubernetes-1-22-eks-6", "remediation": ""}
2022-05-02T01:57:09.842Z	V0	✅ Validate certificate for registry mirror
2022-05-02T01:57:09.842Z	V0	✅ Create preflight validations pass
2022-05-02T01:57:09.842Z	V4	Task finished	{"task_name": "setup-validate", "duration": "6.290140582s"}
2022-05-02T01:57:09.842Z	V4	----------------------------------
2022-05-02T01:57:09.842Z	V4	Tasks completed	{"duration": "6.290184575s"}
2022-05-02T01:57:09.842Z	V3	Logging out from current govc session
2022-05-02T01:57:10.390Z	V3	Cleaning up long running container	{"name": "eksa_1651456614771982170"}
Error: validations failed
    cluster.go:532: Command eksctl anywhere [create cluster -f main-i-0ddc0d7833f8af981-config/cluster.yaml -v 4] failed with error: exit status 255: Error: validations failed
2022-05-02T01:57:10.502Z	V3	e2e	Cleaning up long running container	{"name": "eksa_1651456611592911648"}
2022-05-02T01:57:10.586Z	V3	e2e	Logging out from current govc session
2022-05-02T01:57:11.142Z	V3	e2e	Cleaning up long running container	{"name": "eksa_1651456600377541072"}
--- FAIL: TestVSphereKubernetes122BottleRocketAWSIamAuth (30.86s)
FAIL

DONE 1 tests, 1 failure in 30.925s