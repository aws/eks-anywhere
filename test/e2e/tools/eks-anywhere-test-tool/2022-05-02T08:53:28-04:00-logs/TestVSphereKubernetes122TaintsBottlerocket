2022-05-02T01:56:40.513Z	V4	e2e	Logger init completed	{"vlevel": 4}
=== RUN   TestVSphereKubernetes122TaintsBottlerocket
2022-05-02T01:56:40.513Z	V2	e2e	Pulling docker image	{"image": "public.ecr.aws/l0g8r8j6/eks-anywhere-cli-tools:v0.1.0-eks-a-v0.0.0-dev-build.589"}
2022-05-02T01:56:47.438Z	V3	e2e	Initializing long running container	{"name": "eksa_1651456600513757807", "image": "public.ecr.aws/l0g8r8j6/eks-anywhere-cli-tools:v0.1.0-eks-a-v0.0.0-dev-build.589"}
2022-05-02T01:56:51.808Z	V2	e2e	Pulling docker image	{"image": "public.ecr.aws/l0g8r8j6/eks-anywhere-cli-tools:v0.1.0-eks-a-v0.0.0-dev-build.589"}
2022-05-02T01:56:52.785Z	V3	e2e	Initializing long running container	{"name": "eksa_1651456611808981576", "image": "public.ecr.aws/l0g8r8j6/eks-anywhere-cli-tools:v0.1.0-eks-a-v0.0.0-dev-build.589"}
    cluster.go:499: Running shell command [ eksctl anywhere generate clusterconfig main-i-066d56835fdd88c7a -p vsphere > cluster.yaml ]
2022-05-02T01:56:54.725Z	V0	e2e	Adding worker node group	{"name": "worker-0"}
2022-05-02T01:56:54.725Z	V0	e2e	Adding worker node group	{"name": "worker-1"}
2022-05-02T01:56:54.725Z	V0	e2e	Adding worker node group	{"name": "worker-2"}
    cluster.go:374: Creating cluster main-i-066d56835fdd88c7a
    cluster.go:499: Running shell command [ eksctl anywhere create cluster -f main-i-066d56835fdd88c7a-config/cluster.yaml -v 4 ]
2022-05-02T01:56:54.796Z	V4	Logger init completed	{"vlevel": 4}
2022-05-02T01:56:54.798Z	V0	Warning: The recommended size of an external etcd cluster is 3 or 5
2022-05-02T01:56:54.964Z	V0	Warning: VSphereDatacenterConfig configured in insecure mode
2022-05-02T01:56:55.070Z	V4	Reading bundles manifest	{"url": "https://dev-release-prod-pdx.s3.amazonaws.com/bundle-release.yaml"}
2022-05-02T01:56:55.165Z	V2	Pulling docker image	{"image": "public.ecr.aws/l0g8r8j6/eks-anywhere-cli-tools:v0.7.2-eks-a-v0.0.0-dev-build.1872"}
2022-05-02T01:57:01.151Z	V3	Initializing long running container	{"name": "eksa_1651456615165504699", "image": "public.ecr.aws/l0g8r8j6/eks-anywhere-cli-tools:v0.7.2-eks-a-v0.0.0-dev-build.1872"}
2022-05-02T01:57:04.204Z	V4	Task start	{"task_name": "setup-validate"}
2022-05-02T01:57:04.204Z	V0	Performing setup and validations
2022-05-02T01:57:04.204Z	V0	Warning: VSphereDatacenterConfig configured in insecure mode
2022-05-02T01:57:04.230Z	V0	✅ Connected to server
2022-05-02T01:57:04.536Z	V0	✅ Authenticated to vSphere
2022-05-02T01:57:04.923Z	V0	✅ Datacenter validated
2022-05-02T01:57:05.260Z	V0	✅ Network validated
2022-05-02T01:57:06.602Z	V1	SSHUsername is not set or is empty for VSphereMachineConfig, using default	{"machineConfig": "worker-0", "user": "ec2-user"}
2022-05-02T01:57:07.259Z	V1	SSHUsername is not set or is empty for VSphereMachineConfig, using default	{"machineConfig": "worker-1", "user": "ec2-user"}
2022-05-02T01:57:07.928Z	V1	SSHUsername is not set or is empty for VSphereMachineConfig, using default	{"machineConfig": "worker-2", "user": "ec2-user"}
2022-05-02T01:57:08.885Z	V0	✅ Datastore validated
2022-05-02T01:57:09.190Z	V0	✅ Folder validated
2022-05-02T01:57:09.526Z	V0	✅ Resource pool validated
2022-05-02T01:57:09.854Z	V0	✅ Datastore validated
2022-05-02T01:57:10.170Z	V0	✅ Folder validated
2022-05-02T01:57:10.507Z	V0	✅ Resource pool validated
2022-05-02T01:57:10.821Z	V0	✅ Datastore validated
2022-05-02T01:57:11.124Z	V0	✅ Folder validated
2022-05-02T01:57:11.432Z	V0	✅ Resource pool validated
2022-05-02T01:57:11.753Z	V0	✅ Datastore validated
2022-05-02T01:57:12.078Z	V0	✅ Folder validated
2022-05-02T01:57:12.390Z	V0	✅ Resource pool validated
2022-05-02T01:57:12.714Z	V0	✅ Datastore validated
2022-05-02T01:57:13.030Z	V0	✅ Folder validated
2022-05-02T01:57:13.358Z	V0	✅ Resource pool validated
2022-05-02T01:57:14.088Z	V1	Control plane template validation failed.
2022-05-02T01:57:14.088Z	V0	❌ Validation failed	{"validation": "vsphere Provider setup is valid", "error": "template /SDDC-Datacenter/vm/Templates/bottlerocket-kube-v1-22 is missing tag eksdRelease:kubernetes-1-22-eks-6", "remediation": ""}
2022-05-02T01:57:14.088Z	V0	✅ Validate certificate for registry mirror
2022-05-02T01:57:14.088Z	V0	✅ Create preflight validations pass
2022-05-02T01:57:14.088Z	V4	Task finished	{"task_name": "setup-validate", "duration": "9.884026727s"}
2022-05-02T01:57:14.088Z	V4	----------------------------------
2022-05-02T01:57:14.088Z	V4	Tasks completed	{"duration": "9.884083661s"}
2022-05-02T01:57:14.088Z	V3	Logging out from current govc session
2022-05-02T01:57:14.663Z	V3	Cleaning up long running container	{"name": "eksa_1651456615165504699"}
Error: validations failed
    cluster.go:532: Command eksctl anywhere [create cluster -f main-i-066d56835fdd88c7a-config/cluster.yaml -v 4] failed with error: exit status 255: Error: validations failed
2022-05-02T01:57:14.778Z	V3	e2e	Cleaning up long running container	{"name": "eksa_1651456611808981576"}
2022-05-02T01:57:14.863Z	V3	e2e	Logging out from current govc session
2022-05-02T01:57:15.430Z	V3	e2e	Cleaning up long running container	{"name": "eksa_1651456600513757807"}
--- FAIL: TestVSphereKubernetes122TaintsBottlerocket (35.01s)
FAIL

DONE 1 tests, 1 failure in 35.083s